@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tourist Safety Mobile App - Dark-First Design System
Calm, minimal, trustworthy UI with forest green accents
Primary theme: Black background with Deep Forest Green accents
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Dark-First Mobile Theme - Primary Colors */
    --primary-dark: 0 0% 4%;             /* #0A0A0A - Primary black background */
    --deep-forest: 142 94% 13%;          /* #014421 - Deep forest green accent */
    --soft-green: 147 50% 47%;           /* #3CB371 - Soft green highlights */
    --amber-warning: 37 100% 56%;        /* #FFB020 - Warning amber */
    --neutral-gray: 0 0% 63%;            /* #A0A0A0 - Neutral gray */
    --pure-white: 0 0% 100%;             /* #FFFFFF - Pure white */
    
    /* Mobile App Core Colors */
    --background: 0 0% 4%;               /* Dark background */
    --foreground: 0 0% 100%;             /* White text on dark */
    --card: 0 0% 8%;                     /* Slightly lighter dark cards */
    --card-foreground: 0 0% 98%;         /* Near-white text on cards */
    --surface: 0 0% 6%;                  /* Surface elements */
    
    /* Semantic Color System */
    --primary: 142 94% 13%;              /* Deep forest green */
    --primary-foreground: 0 0% 100%;     /* White on green */
    --secondary: 0 0% 12%;               /* Dark secondary */
    --secondary-foreground: 0 0% 90%;    /* Light text on dark secondary */
    --muted: 0 0% 15%;                   /* Muted backgrounds */
    --muted-foreground: 0 0% 63%;        /* Muted text */
    --accent: 147 50% 47%;               /* Soft green accent */
    --accent-foreground: 0 0% 100%;      /* White on accent */
    --destructive: 4 82% 60%;            /* Emergency red */
    --destructive-foreground: 0 0% 100%; /* White on red */
    
    /* Status Colors */
    --danger: 4 82% 60%;                 /* #E53935 Emergency red */
    --warning: 37 100% 56%;              /* #FFB020 Warning amber */
    --success: 142 94% 13%;              /* Deep forest green for success */
    --info: 201 98% 41%;                 /* Info blue */
    --safe: 142 94% 13%;                 /* Safe green */
    --critical: 4 77% 50%;               /* Critical alerts */
    --urgent: 37 100% 56%;               /* Urgent amber */
    --ok: 142 94% 13%;                   /* OK forest green */
    
    /* UI Element Colors */
    --border: 0 0% 20%;                  /* Dark borders */
    --input: 0 0% 12%;                   /* Input backgrounds */
    --ring: 142 94% 13%;                 /* Focus rings */
    --popover: 0 0% 8%;                  /* Popover background */
    --popover-foreground: 0 0% 98%;      /* Popover text */
    
    /* Dark-First Gradients */
    --gradient-hero: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, rgba(1,68,33,0.4) 100%);
    --gradient-emergency: linear-gradient(135deg, rgba(229,57,53,0.2), rgba(229,57,53,0.4));
    --gradient-panic: linear-gradient(135deg, rgba(255,176,32,0.1), rgba(255,176,32,0.3));
    --gradient-surface: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.05));
    
    /* Dark Theme Shadows */
    --shadow-card: 0 4px 12px rgba(0,0,0,0.4);
    --shadow-emergency: 0 8px 24px rgba(229,57,53,0.3);
    --shadow-floating: 0 12px 40px rgba(0,0,0,0.6);
    --shadow-glow: 0 0 20px rgba(1,68,33,0.3);
    
    /* Mobile-Optimized Spacing & Borders */
    --radius: 0.75rem;                   /* 12px - Medium rounded */
    --radius-large: 1rem;                /* 16px - Large rounded */
    --radius-small: 0.5rem;              /* 8px - Small rounded */
    --radius-button: 0.875rem;           /* 14px - Button radius */
    
    /* Sidebar tokens for dashboard */
    --sidebar-background: 216 20% 96%;
    --sidebar-foreground: 213 11% 38%;
    --sidebar-primary: 180 100% 21%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 213 27% 84%;
    --sidebar-accent-foreground: 208 36% 13%;
    --sidebar-border: 213 27% 84%;
    --sidebar-ring: 180 100% 21%;
    
    /* Animation tokens */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-quick: all 0.2s ease-out;
  }

  /* Light mode override (for authority dashboard) */
  .light {
    --background: 134 29% 97%;           /* Light mint background */
    --foreground: 157 68% 9%;            /* Dark forest text */
    --card: 0 0% 100%;                   /* Pure white cards */
    --card-foreground: 157 68% 9%;       /* Dark forest on white */
    --primary: 123 38% 35%;              /* Forest green primary */
    --primary-foreground: 0 0% 100%;
    --secondary: 118 53% 90%;            /* Light green secondary */
    --secondary-foreground: 157 68% 9%;
    --muted: 124 42% 90%;
    --muted-foreground: 152 15% 35%;
    --accent: 124 42% 68%;               /* Pale green accent */
    --accent-foreground: 157 68% 9%;
    --border: 134 29% 85%;
    --input: 134 29% 90%;
    --ring: 123 38% 35%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', 'Poppins', system-ui, -apple-system, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Typography Scale - Mobile Optimized */
  .text-h1 { @apply text-2xl font-semibold leading-tight; }      /* 24pt */
  .text-h2 { @apply text-xl font-semibold leading-snug; }        /* 20pt */
  .text-body { @apply text-base font-normal leading-relaxed; }   /* 16pt */
  .text-small { @apply text-sm font-medium leading-normal; }     /* 14pt */
  
  /* Touch-friendly sizing */
  .touch-target { min-height: 48px; min-width: 48px; }
  .button-touch { min-height: 44px; min-width: 44px; }
  
  /* Emergency and accessibility styles */
  .hero-image {
    position: relative;
    background-size: cover;
    background-position: center;
  }
  
  .hero-image::after {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-hero);
    pointer-events: none;
  }
  
  .floating-panic {
    position: fixed;
    right: 20px;
    bottom: 20px;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: hsl(var(--danger));
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-emergency);
    color: white;
    font-size: 32px;
    animation: pulse-emergency 4s infinite;
    z-index: 50;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .floating-panic:hover {
    transform: scale(1.05);
    box-shadow: var(--shadow-floating);
  }
  
  /* Progress ring for panic button */
  .panic-progress-ring {
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    background: conic-gradient(from 0deg, hsl(var(--warning)) 0%, transparent 0%);
    padding: 4px;
    animation: progress-spin 2s linear forwards;
  }
  
  @keyframes pulse-emergency {
    0%, 100% { transform: scale(1); box-shadow: var(--shadow-emergency); }
    50% { transform: scale(1.02); box-shadow: var(--shadow-floating); }
  }
  
  @keyframes progress-spin {
    0% { background: conic-gradient(from 0deg, hsl(var(--warning)) 0%, transparent 0%); }
    100% { background: conic-gradient(from 0deg, hsl(var(--warning)) 100%, transparent 0%); }
  }
  
  /* High contrast for accessibility */
  @media (prefers-contrast: high) {
    :root {
      --border: 0 0% 20%;
      --foreground: 0 0% 0%;
    }
  }
  
  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .floating-panic {
      animation: none;
    }
    
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Status indicators */
  .status-critical {
    @apply bg-red-500/10 text-red-700 border-red-200;
  }
  
  .status-urgent {
    @apply bg-amber-500/10 text-amber-700 border-amber-200;
  }
  
  .status-ok {
    @apply bg-green-500/10 text-green-700 border-green-200;
  }
  
  .status-info {
    @apply bg-blue-500/10 text-blue-700 border-blue-200;
  }
}
